{% extends "notifications/emails/elegant_compact_base.html" %}

{% block title %}Nouveau Projet - {{ project.name }}{% endblock %}

{% block content %}
<div class="notification-card">
    <div class="notification-title">
        ğŸ‰ Nouveau Projet CrÃ©Ã©
    </div>
    <div class="notification-message">
        Un nouveau projet a Ã©tÃ© crÃ©Ã© dans le portail GHP et vous Ãªtes impliquÃ© dans sa gestion.
    </div>
</div>

<!-- DÃ©tails du projet -->
<div class="project-details">
    <div class="detail-item">
        <div class="detail-label">ğŸ“‹ Projet</div>
        <div class="detail-value">{{ project.name }}</div>
    </div>
    
    <div class="detail-item">
        <div class="detail-label">ğŸ‘¨â€ğŸ’¼ Chef de Projet</div>
        <div class="detail-value">{{ project.manager.get_full_name|default:project.manager.username }}</div>
    </div>
    
    <div class="detail-item">
        <div class="detail-label">ğŸ“… Ã‰chÃ©ance</div>
        <div class="detail-value">{{ project.deadline|date:"d/m/Y" }}</div>
    </div>
    
    <div class="detail-item">
        <div class="detail-label">ğŸ“Š Statut</div>
        <div class="detail-value">
            <span class="badge badge-info">{{ project.status }}</span>
        </div>
    </div>
    
    <div class="detail-item">
        <div class="detail-label">ğŸ¯ PrioritÃ©</div>
        <div class="detail-value">
            <span class="badge badge-{% if project.priority == 'Haute' %}danger{% elif project.priority == 'Moyenne' %}warning{% else %}success{% endif %}">
                {{ project.priority }}
            </span>
        </div>
    </div>
    
    {% if project.budget %}
    <div class="detail-item">
        <div class="detail-label">ğŸ’° Budget</div>
        <div class="detail-value">{{ project.budget|floatformat:0 }} DZD</div>
    </div>
    {% endif %}
    
    {% if project.progress %}
    <div class="detail-item">
        <div class="detail-label">ğŸ“ˆ ProgrÃ¨s</div>
        <div class="detail-value">
            <div class="progress-container">
                <div class="progress-bar" style="width: {{ project.progress }}%;"></div>
            </div>
            <span style="font-size: 12px; color: #6b7280; margin-top: 4px; display: block;">{{ project.progress }}%</span>
        </div>
    </div>
    {% endif %}
</div>

<!-- Ã‰quipe -->
<div class="team-section">
    <div class="team-title">ğŸ‘¥ Ã‰quipe du Projet</div>
    {% if project.members.all %}
        {% for member in project.members.all %}
        <div class="team-member">
            <div class="member-avatar">
                {{ member.first_name.0|default:member.username.0|upper }}{{ member.last_name.0|default:""|upper }}
            </div>
            <div>
                <div class="member-name">{{ member.get_full_name|default:member.username }}</div>
                <div class="member-role">
                    {% if member == project.manager %}Chef de Projet{% else %}Membre de l'Ã©quipe{% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <div class="team-member">
            <div class="member-avatar">
                {{ project.manager.first_name.0|default:project.manager.username.0|upper }}{{ project.manager.last_name.0|default:""|upper }}
            </div>
            <div>
                <div class="member-name">{{ project.manager.get_full_name|default:project.manager.username }}</div>
                <div class="member-role">Chef de Projet</div>
            </div>
        </div>
    {% endif %}
</div>

<!-- Actions -->
<div class="action-buttons">
    <a href="{{ base_url }}/projects/{{ project.id }}" class="btn btn-primary">
        ğŸ“‹ Voir le Projet
    </a>
    <a href="{{ base_url }}/projects/{{ project.id }}/tasks" class="btn btn-secondary">
        ğŸ“ GÃ©rer les TÃ¢ches
    </a>
</div>

<!-- Message d'encouragement -->
<div class="alert alert-success">
    <strong>ğŸš€ Projet PrÃªt Ã  DÃ©marrer !</strong><br>
    Votre projet est maintenant actif. Vous pouvez commencer Ã  ajouter des tÃ¢ches, assigner des membres et suivre l'avancement en temps rÃ©el.
</div>

<!-- Informations supplÃ©mentaires -->
<div style="background: #f8fafc; border-radius: 10px; padding: 20px; margin: 20px 0; border: 1px solid #e2e8f0;">
    <div style="font-weight: 600; color: #1f2937; margin-bottom: 12px; font-size: 15px;">
        ğŸ’¡ Prochaines Ã‰tapes RecommandÃ©es
    </div>
    <ul style="color: #4b5563; line-height: 1.6; margin: 0; padding-left: 20px; font-size: 14px;">
        <li>DÃ©finir les tÃ¢ches principales du projet</li>
        <li>Assigner des membres Ã  l'Ã©quipe</li>
        <li>Configurer les jalons et Ã©chÃ©ances</li>
        <li>Partager les documents de rÃ©fÃ©rence</li>
    </ul>
</div>
{% endblock %}








