{% extends "notifications/emails/professional_ui_ux_base.html" %}

{% block title %}Nouveau Projet - {{ project.name }}{% endblock %}

{% block content %}
<div class="notification-card">
    <div class="notification-title">
        🎉 Nouveau Projet Créé
    </div>
    <div class="notification-message">
        Un nouveau projet a été créé dans le portail GHP et vous êtes impliqué dans sa gestion. Voici les détails du projet :
    </div>
</div>

<!-- Détails du projet -->
<div class="project-details">
    <div class="detail-grid">
        <div class="detail-item">
            <div class="detail-label">
                📋 Nom du Projet
            </div>
            <div class="detail-value">{{ project.name }}</div>
        </div>
        
        <div class="detail-item">
            <div class="detail-label">
                👨‍💼 Chef de Projet
            </div>
            <div class="detail-value">{{ project.manager.get_full_name|default:project.manager.username }}</div>
        </div>
        
        <div class="detail-item">
            <div class="detail-label">
                📅 Date d'Échéance
            </div>
            <div class="detail-value">{{ project.deadline|date:"d/m/Y" }}</div>
        </div>
        
        <div class="detail-item">
            <div class="detail-label">
                📊 Statut Actuel
            </div>
            <div class="detail-value">
                <span class="badge badge-info">{{ project.status }}</span>
            </div>
        </div>
        
        <div class="detail-item">
            <div class="detail-label">
                🎯 Priorité
            </div>
            <div class="detail-value">
                <span class="badge badge-{% if project.priority == 'Haute' %}danger{% elif project.priority == 'Moyenne' %}warning{% else %}success{% endif %}">
                    {{ project.priority }}
                </span>
            </div>
        </div>
        
        {% if project.budget %}
        <div class="detail-item">
            <div class="detail-label">
                💰 Budget Alloué
            </div>
            <div class="detail-value">{{ project.budget|floatformat:0 }} DZD</div>
        </div>
        {% endif %}
    </div>
    
    {% if project.progress %}
    <div style="margin-top: 20px;">
        <div class="detail-label">
            📈 Progression du Projet
        </div>
        <div class="detail-value">{{ project.progress }}%</div>
        <div class="progress-container">
            <div class="progress-bar" style="width: {{ project.progress }}%;"></div>
        </div>
    </div>
    {% endif %}
</div>

<!-- Équipe du projet -->
<div class="team-section">
    <div class="team-title">👥 Équipe du Projet</div>
    {% if project.members.all %}
        {% for member in project.members.all %}
        <div class="team-member">
            <div class="member-avatar">
                {{ member.first_name.0|default:member.username.0|upper }}{{ member.last_name.0|default:""|upper }}
            </div>
            <div>
                <div class="member-name">{{ member.get_full_name|default:member.username }}</div>
                <div class="member-role">
                    {% if member == project.manager %}Chef de Projet{% else %}Membre de l'équipe{% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <div class="team-member">
            <div class="member-avatar">
                {{ project.manager.first_name.0|default:project.manager.username.0|upper }}{{ project.manager.last_name.0|default:""|upper }}
            </div>
            <div>
                <div class="member-name">{{ project.manager.get_full_name|default:project.manager.username }}</div>
                <div class="member-role">Chef de Projet</div>
            </div>
        </div>
    {% endif %}
</div>

<!-- Actions -->
<div class="action-buttons">
    <a href="{{ base_url }}/projects/{{ project.id }}" class="btn btn-primary">
        📋 Voir le Projet
    </a>
    <a href="{{ base_url }}/projects/{{ project.id }}/tasks" class="btn btn-secondary">
        📝 Gérer les Tâches
    </a>
</div>

<!-- Message d'encouragement -->
<div class="alert alert-success">
    <strong>🚀 Projet Prêt à Démarrer !</strong><br>
    Votre projet est maintenant actif. Vous pouvez commencer à ajouter des tâches, assigner des membres et suivre l'avancement en temps réel.
</div>

<!-- Informations supplémentaires -->
<div style="background: #f8fafc; border-radius: 8px; padding: 20px; margin: 20px 0; border: 1px solid #e5e5e5;">
    <div style="font-weight: 600; color: #1a1a1a; margin-bottom: 12px; font-size: 16px;">
        💡 Prochaines Étapes Recommandées
    </div>
    <ul style="color: #4b5563; line-height: 1.6; margin: 0; padding-left: 20px; font-size: 14px;">
        <li>Définir les tâches principales du projet</li>
        <li>Assigner des membres à l'équipe</li>
        <li>Configurer les jalons et échéances</li>
        <li>Partager les documents de référence</li>
    </ul>
</div>
{% endblock %}










